<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>QGIS Setting Manager by 3nids</title>
    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script src="javascripts/main.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

  </head>
  <body>

      <header>
        <h1>QGIS Setting Manager</h1>
        <p>QGIS setting manager is a python module to easily manage read/write settings and set/get corresponding widgets.</p>
      </header>

      <div id="banner">
        <span id="logo"></span>

        <a href="https://github.com/3nids/qgissettingmanager" class="button fork"><strong>View On GitHub</strong></a>
        <div class="downloads">
          <span>Downloads:</span>
          <ul>
            <li><a href="https://github.com/3nids/qgissettingmanager/zipball/master" class="button">ZIP</a></li>
            <li><a href="https://github.com/3nids/qgissettingmanager/tarball/master" class="button">TAR</a></li>
          </ul>
        </div>
      </div><!-- end banner -->

    <div class="wrapper">
      <nav>
        <ul></ul>
      </nav>
      <section>
        <h1>About</h1>

<p>Easily manage the settings in your <a href="http://www.qgis.org">QGIS</a> plugin.</p>

<p>This module can:</p>

<ul>
<li>manage different types of variables (bool, string, color, integer, double)</li>
<li>read and write in QGIS settings or in the project settings</li>
<li>can set and get values of widgets in dialogs</li>
</ul><h2>Installing the module</h2>

<p>To use this module you can easily copy the files and put them in your project.
A more elegant way is to use git submodule. Hence, you can keep up with latest improvements. In you plugin directory, do</p>

<pre><code>git submodule add git://github.com/3nids/qgissettingmanager.git
</code></pre>

<p>Then, import the needed classes:</p>

<pre><code>from qgissettingmanager import *
</code></pre>

<h2>The main setting class</h2>

<p>All your settings will be saved in a single class, which will subclass SettingManager.</p>

<pre><code>class MySettings(SettingManager):
    def __init__(self):
        SettingManager.__init__(self, myPluginName)
        self.addSetting("myVariable", "bool", "global", True)
</code></pre>

<p>You add as many settings as you want using <em>addSetting</em> method:</p>

<pre><code>addSetting(name, settingType, scope, defaultValue, options={})
</code></pre>

<ul>
<li>name: the name of the setting</li>
<li>settingType: bool, string, color, integer or double</li>
<li>scope: global or project</li>
<li>defaultValue: the default value of the setting (type must corrsepond)</li>
<li>options: a dictionary of options</li>
</ul><p>Options are related to the type of setting</p>

<ul>
<li>comboMode: data (default) or text. Used for combo boxes for strings. It determines if the setting value correspond to the text in the combo box or to its <a href="http://qt-project.org/doc/qt-4.8/qcombobox.html#itemData">data</a>
</li>
</ul><h2>Access the settings</h2>

<p>Instantiate your settings class in your current class:</p>

<pre><code>import MySettings
self.settings = MySettings()
</code></pre>

<p>The settings are easily accessed using the <code>value</code> and <code>setValue</code> methods:</p>

<pre><code>myVariable = self.settings.value("myVariable")
self.settings.setValue("myVariable", False)
</code></pre>

<h2>Associates widgets in dialogs to settings</h2>

<h3>Qcuik start</h3>

<p>You can associate a setting to a defined widget. The first thing is to name the widget exactly as the setting name.
Then, your dialog class subclass the <code>SettingDialog</code> class:</p>

<pre><code>class MyDialog(QDialog, Ui_myDialog, SettingDialog):
    def __init__(self):
        QDialog.__init__(self)
        self.setupUi(self)
        self.settings = MySettings()
        SettingDialog.__init__(self, self.settings)
</code></pre>

<p>Hence, must dialog is shown, all widgets which are named as some setting will be set to the corresponding value. On dialog acceptance, the setting will be set according to their widget.</p>

<h3>Settings' update behavior</h3>

<p>You can have a different behavior using <code>SettingDialog</code> parameters:</p>

<pre><code>SettingDialog(settingManager, setValuesOnDialogAccepted=True, setValueOnWidgetUpdate=False)
</code></pre>

<ul>
<li>setValuesOnDialogAccepted: if <code>True</code>, settings values are set when dialog is accepted;</li>
<li>setValueOnWidgetUpdate: if <code>True</code>, settings are set as soon as the widgets is modified.</li>
</ul><h3>Check something before updating the settings</h3>

<p>You can override the <code>SettingDialog.onBeforeAcceptDialog()</code> method to check your settings.
Settings will be saved only if method returns <code>True</code>.</p>

<h3>Using showEvent</h3>

<p>Be warned that <code>SettingDialog</code> implements <code>showEvent</code> method. Therefore, if you redefine it in your dialog class, you have to write:</p>

<pre><code>def showEvent(self, e):
    settingDialog.showEvent(self, e)
    # do your own stuff
</code></pre>

<h3>Possible widgets</h3>

<p>The widgets are automatically detected by the manager. If the type of widget is not handled, an error is raised.</p>

<p><strong>Strings</strong></p>

<ul>
<li>QLineEdit</li>
<li>QComboBox (can be set using the itemData or the text, see options above)</li>
<li>QButtonGroup (the setting is set as the checked widget text in the button group)</li>
</ul><p><strong>Booleans</strong></p>

<ul>
<li>QCheckBox</li>
<li>Any checkable widget (groupbox, etc.)</li>
</ul><h3>Colors</h3>

<ul>
<li>Any widget but labels or pushbuttons are recommended (it uses QGIS <a href="http://qgis.org/api/classQgsColorButton.html">color button</a>)</li>
</ul><p><strong>Integers</strong></p>

<ul>
<li>QLineEdit</li>
<li>QSpinBox</li>
<li>QSlider</li>
<li>QComboBox (setting is set as the combo box index)</li>
</ul><p><strong>Doubles</strong></p>

<ul>
<li>QLineEdit</li>
<li>QDoubleSpinBox</li>
</ul><p>New types of widget are easily added, if one is missing, do not hesitate to <a href="https://github.com/3nids/qgissettingmanager/issues">ask</a>!</p>
      </section>
      <footer>
        <p>Project maintained by <a href="https://github.com/3nids">3nids</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="http://twitter.com/#!/michigangraham">mattgraham</a></small></p>
      </footer>
    </div>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
    
  </body>
</html>